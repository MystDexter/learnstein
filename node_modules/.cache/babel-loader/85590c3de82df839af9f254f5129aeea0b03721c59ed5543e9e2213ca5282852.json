{"ast":null,"code":"var _jsxFileName = \"/Users/user/Work/Code/dyslexia-reader/dyslexia-reader/src/components/speechkit.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useSpeechRecognition } from \"react-speech-kit\";\nimport { Card, Dialog, makeStyles } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({});\nconst languageOptions = [\n//   { label: \"Cambodian\", value: \"km-KH\" },\n//   { label: \"Deutsch\", value: \"de-DE\" },\n{\n  label: \"English\",\n  value: \"en-AU\"\n}\n//   { label: \"Farsi\", value: \"fa-IR\" },\n//   { label: \"Français\", value: \"fr-FR\" },\n//   { label: \"Italiano\", value: \"it-IT\" },\n//   { label: \"普通话 (中国大陆) - Mandarin\", value: \"zh\" },\n//   { label: \"Portuguese\", value: \"pt-BR\" },\n//   { label: \"Español\", value: \"es-MX\" },\n//   { label: \"Svenska - Swedish\", value: \"sv-SE\" },\n];\n\nconst correctAnswer = \"Japanese\";\nexport default function SpeechKit(_ref) {\n  _s();\n  let {\n    onClose,\n    open\n  } = _ref;\n  const classes = useStyles();\n  const [lang, setLang] = useState(\"en-AU\");\n  const [value, setValue] = useState(\"\");\n  const [blocked, setBlocked] = useState(false);\n  const onEnd = () => {\n    // You could do something here after listening has finished\n    if (value === correctAnswer) {\n      setShowCorrect(true);\n    } else {\n      setShowWrong(true);\n    }\n  };\n  const onResult = result => {\n    setValue(result);\n  };\n  const changeLang = event => {\n    setLang(event.target.value);\n  };\n  const onError = event => {\n    if (event.error === \"not-allowed\") {\n      setBlocked(true);\n    }\n  };\n  const {\n    listen,\n    listening,\n    stop,\n    supported\n  } = useSpeechRecognition({\n    onResult,\n    onEnd,\n    onError\n  });\n  const toggle = listening ? stop : () => {\n    setBlocked(false);\n    listen({\n      lang\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    onClose: onClose,\n    \"aria-labelledby\": \"simple-dialog-title\",\n    open: open,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"speech-recognition-form\",\n      style: {\n        width: \"70%\",\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Speech Recognition\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), !supported && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Oh no, it looks like your browser doesn't support Speech Recognition.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), supported && /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: `Click 'Listen' and start speaking.\n               SpeechRecognition will provide a transcript of what you are saying.`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"language\",\n            children: \"Language\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            form: \"speech-recognition-form\",\n            id: \"language\",\n            value: lang,\n            onChange: changeLang,\n            children: languageOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: \"bold\"\n            },\n            children: \"Question: The ________ Army invaded Malaya in 8 December 1941\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"transcript\",\n          name: \"transcript\",\n          placeholder: \"Waiting to take notes ...\",\n          value: value,\n          rows: 3,\n          disabled: true,\n          style: {\n            display: \"flex\",\n            width: \"100%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: blocked,\n          type: \"button\",\n          onClick: toggle,\n          children: listening ? \"Stop\" : \"Listen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), blocked && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"red\"\n          },\n          children: \"The microphone is blocked for this site in your browser.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(SpeechKit, \"zYURgqk6NDBR0ONrAUpn4N0FRdg=\", false, function () {\n  return [useStyles, useSpeechRecognition];\n});\n_c = SpeechKit;\nvar _c;\n$RefreshReg$(_c, \"SpeechKit\");","map":{"version":3,"names":["React","useState","useSpeechRecognition","Card","Dialog","makeStyles","useStyles","languageOptions","label","value","correctAnswer","SpeechKit","onClose","open","classes","lang","setLang","setValue","blocked","setBlocked","onEnd","setShowCorrect","setShowWrong","onResult","result","changeLang","event","target","onError","error","listen","listening","stop","supported","toggle","width","padding","display","marginBottom","map","option","fontWeight","color"],"sources":["/Users/user/Work/Code/dyslexia-reader/dyslexia-reader/src/components/speechkit.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSpeechRecognition } from \"react-speech-kit\";\n\nimport { Card, Dialog, makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({});\n\nconst languageOptions = [\n  //   { label: \"Cambodian\", value: \"km-KH\" },\n  //   { label: \"Deutsch\", value: \"de-DE\" },\n  { label: \"English\", value: \"en-AU\" },\n  //   { label: \"Farsi\", value: \"fa-IR\" },\n  //   { label: \"Français\", value: \"fr-FR\" },\n  //   { label: \"Italiano\", value: \"it-IT\" },\n  //   { label: \"普通话 (中国大陆) - Mandarin\", value: \"zh\" },\n  //   { label: \"Portuguese\", value: \"pt-BR\" },\n  //   { label: \"Español\", value: \"es-MX\" },\n  //   { label: \"Svenska - Swedish\", value: \"sv-SE\" },\n];\n\nconst correctAnswer = \"Japanese\";\n\nexport default function SpeechKit({ onClose, open }) {\n  const classes = useStyles();\n  const [lang, setLang] = useState(\"en-AU\");\n  const [value, setValue] = useState(\"\");\n  const [blocked, setBlocked] = useState(false);\n\n  const onEnd = () => {\n    // You could do something here after listening has finished\n    if (value === correctAnswer) {\n      setShowCorrect(true);\n    } else {\n      setShowWrong(true);\n    }\n  };\n\n  const onResult = (result) => {\n    setValue(result);\n  };\n\n  const changeLang = (event) => {\n    setLang(event.target.value);\n  };\n\n  const onError = (event) => {\n    if (event.error === \"not-allowed\") {\n      setBlocked(true);\n    }\n  };\n\n  const { listen, listening, stop, supported } = useSpeechRecognition({\n    onResult,\n    onEnd,\n    onError,\n  });\n\n  const toggle = listening\n    ? stop\n    : () => {\n        setBlocked(false);\n        listen({ lang });\n      };\n\n  return (\n    <Dialog onClose={onClose} aria-labelledby='simple-dialog-title' open={open}>\n      <form id='speech-recognition-form' style={{ width: \"70%\", padding: 16 }}>\n        <h2>Speech Recognition</h2>\n        {!supported && (\n          <p>\n            Oh no, it looks like your browser doesn&#39;t support Speech\n            Recognition.\n          </p>\n        )}\n        {supported && (\n          <React.Fragment>\n            <p>\n              {`Click 'Listen' and start speaking.\n               SpeechRecognition will provide a transcript of what you are saying.`}\n            </p>\n            <div style={{ display: \"flex\", marginBottom: 16 }}>\n              <label htmlFor='language'>Language</label>\n              <select\n                form='speech-recognition-form'\n                id='language'\n                value={lang}\n                onChange={changeLang}\n              >\n                {languageOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <p style={{ fontWeight: \"bold\" }}>\n                Question: The ________ Army invaded Malaya in 8 December 1941\n              </p>\n            </div>\n            {/* <label htmlFor='transcript'>Transcript</label> */}\n            <textarea\n              id='transcript'\n              name='transcript'\n              placeholder='Waiting to take notes ...'\n              value={value}\n              rows={3}\n              disabled\n              style={{ display: \"flex\", width: \"100%\" }}\n            />\n            <button disabled={blocked} type='button' onClick={toggle}>\n              {listening ? \"Stop\" : \"Listen\"}\n            </button>\n            {blocked && (\n              <p style={{ color: \"red\" }}>\n                The microphone is blocked for this site in your browser.\n              </p>\n            )}\n          </React.Fragment>\n        )}\n      </form>\n    </Dialog>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}